!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){var t={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},e=function(t,e){this.el=t,this.rect=function(t){var e=t.getBoundingClientRect(),n=document.body.scrollLeft+document.documentElement.scrollLeft,u=document.body.scrollTop+document.documentElement.scrollTop;return{minX:e.left+n,maxX:e.width+e.left+n,minY:e.top+u,maxY:e.height+e.top+u}}(t),this.params=e};e.prototype.update=function(t){var e,n,u,i,o,r,a=(e=this.rect,n=t,u=Math.max(e.minX-n.x,0,n.x-e.maxX),i=Math.max(e.minY-n.y,0,n.y-e.maxY),Math.round(Math.sqrt(u*u+i*i))),s=(o=function(t,e,n){return Math.min(Math.max(t,0),1)}((a-(r=this.params.range[1]))/(this.params.range[0]-r)*1+0),parseFloat(o.toFixed(3)));this.params.onProgress({distance:a,progress:s,isInRange:s>0,mousePos:t})},module.exports=function(n){var u=this;void 0===n&&(n={}),this.box=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(e,[null].concat(t)))},this.subscribe=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];return(t=u.subs).push.apply(t,e)},this.unsubscribe=function(t){return u.subs=u.subs.filter(function(t){})},this.mousemoveFn=function(t){u.isActive||requestAnimationFrame(function(){return u.subs.map(function(e){return u.updateSub(t,e)})})},this.updateSub=function(t,e){return e.update((u=0,i=0,(n=t)||(n=window.event),n.pageX||n.pageY?(u=n.pageX,i=n.pageY):(n.clientX||n.clientY)&&(u=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:u,y:i}));var n,u,i},this.init=function(){window.addEventListener("mousemove",u.mousemoveFn,{capture:!0,passive:!0}),u.params.mediaQuery&&(u.isActive=!!window.matchMedia(u.params.mediaQuery).matches,window.matchMedia(u.params.mediaQuery).addListener(function(t){u.isActive=!!t.matches}))},this.params=n,this.isActive=!this.params.mediaQuery,this.subs=[],this.easings=t,this.init()}});
